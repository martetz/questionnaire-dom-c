(this["webpackJsonpdom-click"]=this["webpackJsonpdom-click"]||[]).push([[0],{15:function(e,t,n){},18:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),i=n(9),s=n.n(i),c=(n(15),n(8)),l=n.n(c),o=n(10),u=n(2),d=n(3),h=n(6),j=n(5),p=n(4),b=n(0),f=function(e){Object(j.a)(n,e);var t=Object(p.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){return Object(b.jsxs)("div",{className:"radio",children:[Object(b.jsx)("input",{id:this.props.id,type:"radio",name:"radio",value:this.props.value,onChange:this.props.changeHandler}),Object(b.jsx)("label",{htmlFor:this.props.id,children:this.props.answerText})]})}}]),n}(a.Component);function O(e){return e.sort((function(){return Math.random()-.5}))}var v=function(e){Object(j.a)(n,e);var t=Object(p.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){return Object(b.jsxs)("div",{className:"radio",children:[Object(b.jsx)("input",{id:this.props.id,type:"radio",name:"radio",value:this.props.answerText,onChange:this.props.changeHandler}),Object(b.jsx)("label",{htmlFor:this.props.id,children:this.props.answerText})]})}}]),n}(a.Component),m=function(e){Object(j.a)(n,e);var t=Object(p.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){return Object(b.jsxs)("div",{className:"checkbox",children:[Object(b.jsx)("input",{id:this.props.id,type:"checkbox",name:"checkbox",value:this.props.answerText,onChange:this.props.changeHandler}),Object(b.jsx)("label",{htmlFor:this.props.id,children:this.props.answerText})]})}}]),n}(a.Component);var x=function(e){Object(j.a)(n,e);var t=Object(p.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"initAnswers",value:function(e,t){return function(e,t){if("easy"===e.difficulty&&"boolean"===e.type)return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(f,{id:"radio-"+e.id+"a",value:!0,answerText:"\u0414\u0430",changeHandler:t}),Object(b.jsx)(f,{id:"radio-"+e.id+"b",value:!1,answerText:"\u041d\u0435\u0442",changeHandler:t})]});if("middle"===e.difficulty){var n=[];e.incorrect.forEach((function(e){n.push(e)})),n.push(e.correct);var a=O(n).map((function(e){return Object(b.jsx)(v,{answerText:e,id:"radio-"+Math.floor(1e5*Math.random()),changeHandler:t},"key-middle-"+Math.floor(1e5*Math.random()))}));return Object(b.jsx)(b.Fragment,{children:a})}if("hard"===e.difficulty){var r=[];e.incorrect!==[]&&e.incorrect.forEach((function(e){r.push(e)})),e.correct!==[]&&e.correct.forEach((function(e){r.push(e)}));var i=O(r).map((function(e){return Object(b.jsx)(m,{id:"checkbox-"+Math.floor(1e5*Math.random()),answerText:e,changeHandler:t},"key-hard-"+Math.floor(1e5*Math.random()))}));return Object(b.jsx)(b.Fragment,{children:i})}}(e,t)}},{key:"render",value:function(){return Object(b.jsx)("form",{className:"quation__answers",children:this.initAnswers(this.props.card,this.props.onChange)})}}]),n}(a.Component);function g(e,t){var n=[];return e.forEach((function(e){t.filter((function(t){return t===e}))[0]?n.push(!0):n.push(!1)})),!n.includes(!1)}var y=[];var k=[],N=null,_=null,w=[],C=function(e){Object(j.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).clickHandler=a.clickHandler.bind(Object(h.a)(a)),a.changeHandler=a.changeHandler.bind(Object(h.a)(a)),a}return Object(d.a)(n,[{key:"changeHandler",value:function(e){var t=e.target.parentNode.parentNode.parentNode.lastChild.firstElementChild;t.disabled=!1;var n=Number(e.target.parentNode.parentNode.parentNode.id.split("-")[1]);if("checkbox"===e.target.name)w.includes(e.target.value)?w.splice(w.indexOf(e.target.value),1):w.push(e.target.value),0===w.length&&(t.disabled=!0),N=n,_=w;else{var a=e.target.value;N=n,_=a}}},{key:"clickHandler",value:function(e){if("quation__button"!==e.target.className&&null!==_&&0!==_.length){var t={id:N,userAnswer:_};k.push(t),w=[],_=null,N=null,Number(e.target.parentNode.parentNode.id.split("-")[1])>=this.props.data.length&&function(e,t,n){for(var a=0;a<e.length;a++)"object"===typeof t[a].correct?t[a].correct.length===e[a].userAnswer.length?y.push({id:a+1,res:g(t[a].correct,e[a].userAnswer)}):y.push({id:a+1,res:!1}):y.push({id:a+1,res:e[a].userAnswer===t[a].correct});n(y)}(k,this.props.data,this.props.final),this.props.nextQuation()}}},{key:"render",value:function(){var e=this.props.card,t="hard"===e.difficulty?"\u041d\u0430 \u0434\u0430\u043d\u043d\u044b\u0439 \u0432\u043e\u043f\u0440\u043e\u0441 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043e\u0434\u0438\u043d \u0438\u043b\u0438 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043e\u0442\u0432\u0435\u0442\u043e\u0432":"\u041d\u0430 \u0434\u0430\u043d\u043d\u044b\u0439 \u0432\u043e\u043f\u0440\u043e\u0441 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u043e\u0434\u0438\u043d \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u043e\u0442\u0432\u0435\u0442";return Object(b.jsxs)("div",{className:"quation",id:"id-"+e.id,children:[Object(b.jsx)("div",{className:"quation__disc",children:t}),Object(b.jsx)("div",{className:"quation__text",children:Object(b.jsx)("h3",{children:e.quation})}),Object(b.jsx)(x,{card:e,onChange:this.changeHandler}),Object(b.jsx)("div",{className:"quation__button",onClick:this.clickHandler,children:Object(b.jsx)("button",{disabled:!0,children:"\u041e\u0442\u0432\u0435\u0442\u0438\u0442\u044c"})})]})}}]),n}(a.Component),H=n.p+"static/media/err.5de257e7.svg",D=n.p+"static/media/right.3ebbc2ad.svg",F=function(e){Object(j.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).renderIconImg=a.renderIconImg.bind(Object(h.a)(a)),a}return Object(d.a)(n,[{key:"renderRemarkForQuations",value:function(){return this.props.apiData[this.props.card.id-1].remark}},{key:"renderIconImg",value:function(e){return e?D:H}},{key:"render",value:function(){return Object(b.jsxs)("div",{className:"resoult",children:[Object(b.jsx)("div",{className:"resoult__number",children:this.props.card.id+"."}),Object(b.jsx)("div",{className:"resoult__icon",style:{backgroundImage:"url(".concat(this.renderIconImg(this.props.card.res),")")}}),Object(b.jsx)("div",{className:"resoult__correct",children:this.renderRemarkForQuations()})]})}}]),n}(a.Component),A=0,M=function(e){Object(j.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).state={overall:"???"},a}return Object(d.a)(n,[{key:"componentDidMount",value:function(){this.setState({overall:A})}},{key:"initPoints",value:function(e,t){var n,a=[];A=0;for(var r=0;r<t.length;r++)"easy"===t[r].difficulty&&e[r].res?A+=n=5:"middle"===t[r].difficulty&&e[r].res?A+=n=15:"hard"===t[r].difficulty&&e[r].res?A+=n=20:A+=n=0,a.push(Object(b.jsxs)("div",{className:"points__item",children:[e[r].id+":"," ",Object(b.jsx)("span",{children:n})," \u0431\u0430\u043b\u043b\u043e\u0432"]},"key-"+e[r].id));return Object(b.jsx)(b.Fragment,{children:a})}},{key:"render",value:function(){return Object(b.jsxs)("div",{className:"points",children:[Object(b.jsxs)("h3",{children:["\u0412\u0430\u0448 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442: ",Object(b.jsx)("span",{children:this.state.overall})," \u0431\u0430\u043b\u043b\u043e\u0432 \u0438\u0437 ",Object(b.jsx)("span",{children:"100"})]}),this.initPoints(this.props.finalData,this.props.apiData)]})}}]),n}(a.Component),S=function(e){Object(j.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).initAllResoults=a.initAllResoults.bind(Object(h.a)(a)),a}return Object(d.a)(n,[{key:"initAllResoults",value:function(e,t){var n=e.map((function(e){return Object(b.jsx)(F,{card:e,apiData:t},"answerkey-"+e.id)}));return Object(b.jsx)(b.Fragment,{children:n})}},{key:"render",value:function(){return Object(b.jsxs)("div",{className:"final",style:{display:this.props.display},children:[Object(b.jsx)("div",{className:"final__discription",children:Object(b.jsx)(M,{finalData:this.props.finalData,apiData:this.props.apiData})}),Object(b.jsx)("div",{className:"final__resoults",children:this.initAllResoults(this.props.finalData,this.props.apiData)})]})}}]),n}(a.Component);var I=function(e){Object(j.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).state={data:!1,finalData:null,counter:0,display:"flex",warning:Object(b.jsxs)("div",{className:"loader",children:[Object(b.jsx)("div",{className:"loader__butterfly loader__main loader__butterfly--top"}),Object(b.jsx)("div",{className:"loader__butterfly loader__main"})]}),warningContainer:"none"},a.clickHandler=a.clickHandler.bind(Object(h.a)(a)),a.finalScreenFunc=a.finalScreenFunc.bind(Object(h.a)(a)),a}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var e=Object(o.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:3001/api/quations").then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return"\u041e\u0448\u0438\u0431\u043a\u0430: "+e}));case 2:if("string"===typeof(t=e.sent)){e.next=10;break}return e.next=6,t;case 6:n=e.sent,this.setState({data:n}),e.next=11;break;case 10:this.setState({warning:t,warningContainer:"rgba(255, 255, 255, 0.6)"});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"finalScreenFunc",value:function(e){this.setState({finalData:e}),this.setState({display:"flex"})}},{key:"clickHandler",value:function(){this.setState({counter:this.state.counter+1})}},{key:"initAllQuations",value:function(e){var t=this,n=e.map((function(n){return Object(b.jsx)(C,{card:n,nextQuation:t.clickHandler,final:t.finalScreenFunc,data:e},"key-"+n.id)}));return Object(b.jsx)(b.Fragment,{children:n[this.state.counter]})}},{key:"render",value:function(){if(this.state.data){if(this.state.finalData)return Object(b.jsx)("div",{className:"container",children:Object(b.jsx)(S,{display:this.state.display,finalData:this.state.finalData,apiData:this.state.data})});var e=this.state.data;return Object(b.jsxs)("div",{className:"container",children:[Object(b.jsx)("h1",{children:"\u0427\u0442\u043e \u0432\u044b \u0437\u043d\u0430\u0435\u0442\u0435 \u043e \u0414\u043e\u043c\u041a\u043b\u0438\u043a?"}),this.initAllQuations(e)]})}return Object(b.jsxs)("div",{className:"container",children:[Object(b.jsx)("h1",{children:"\u0427\u0442\u043e \u0432\u044b \u0437\u043d\u0430\u0435\u0442\u0435 \u043e \u0414\u043e\u043c\u041a\u043b\u0438\u043a?"}),Object(b.jsx)("div",{style:{background:this.state.warningContainer,boxShadow:this.state.warningContainer},className:"warning",children:this.state.warning})]})}}]),n}(a.Component);s.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(I,{})}),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.1830a2f9.chunk.js.map